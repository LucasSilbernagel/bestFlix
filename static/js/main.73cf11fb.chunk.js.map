{"version":3,"sources":["Components/Header.js","Components/firebase.js","Components/SearchResults.js","Components/Nominated.js","Components/Save.js","Components/Loading.js","Components/Main.js","Components/Nominations.js","Components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","SearchResults","movies","nominated","setNominated","history","useHistory","nominatedMovies","useRef","useEffect","length","current","saveNominations","dbRef","database","ref","map","movie","push","Poster","Title","Year","ID","imdbID","Votes","Swal","fire","title","text","confirmButtonColor","confirmButtonText","then","nominatedID","nominatedFilm","includes","key","src","alt","disabled","onClick","e","concat","showCancelButton","cancelButtonColor","cancelButtonText","result","isConfirmed","Nominated","removeNomination","index","target","getAttribute","newArray","splice","item","Save","Loading","props","loading","Main","useState","setMovies","searched","setQuery","inputValue","setInputValue","setLoading","to","id","action","htmlFor","onChange","event","value","query","setTimeout","fetch","response","ok","json","Error","res","Search","catch","error","console","log","performSearch","type","name","placeholder","Nominations","displayedNominations","setDisplayedNominations","on","newState","data","val","sortedNominations","filter","v","i","a","findIndex","t","sort","b","parseFloat","movieArray","once","results","set","incrementVotes","aria-label","Footer","href","rel","App","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.73cf11fb.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n      <header>\n        <div className=\"wrapper\">\n          <h1>bestFlix</h1>\n        </div>\n      </header>\n  );\n}\n\nexport default Header;","import firebase from 'firebase/app';\nimport 'firebase/database';\n\n// Firebase configuration\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDZtyyJl0JQTRgDuEg9mZbneHNpF5ArlIc\",\n  authDomain: \"bestflix-80621.firebaseapp.com\",\n  databaseURL: \"https://bestflix-80621.firebaseio.com\",\n  projectId: \"bestflix-80621\",\n  storageBucket: \"bestflix-80621.appspot.com\",\n  messagingSenderId: \"661618832641\",\n  appId: \"1:661618832641:web:53533ceed3f183e5129700\"\n};\nfirebase.initializeApp(firebaseConfig);\n\n// this exports the CONFIGURED version of firebase\nexport default firebase;","import React, { useEffect, useRef } from \"react\";\nimport Swal from 'sweetalert2';\nimport firebase from './firebase';\nimport { useHistory } from 'react-router-dom';\n\nfunction SearchResults({ movies, nominated, setNominated }) {\n\n  // When nominations are saved, show the nominations page\n  const history = useHistory();\n  const newPage = () => history.push('/bestFlix/nominations');\n\n  // If movies have been nominated, set them in the nominatedMovies ref\n  let nominatedMovies = useRef(null);\n  useEffect(() => {\n    if (!nominated.length) {\n      return;\n    } else {\n      nominatedMovies.current = nominated;\n    }\n  });\n\n  // Push saved movie nominations to firebase\n  const saveNominations = () => {\n    const dbRef = firebase.database().ref();\n    nominatedMovies.current.map((movie) => {\n      return dbRef.push({\n        Poster: movie.Poster,\n        Title: movie.Title,\n        Year: movie.Year,\n        ID: movie.imdbID,\n        Votes: 1\n      })\n    })\n    setNominated([]);\n    // Sweet alert\n    Swal.fire({\n      title: 'Nominations saved',\n      text: \"Vote for your favourites on the list of nominees!\",\n      confirmButtonColor: \"#00806a\",\n      confirmButtonText: 'Ok',\n    }).then(function () {\n      newPage();\n    })\n  }\n\n  // Nominate a movie from search results\n  const handleClick = (e) => {\n    setNominated(nominated.concat(e));\n    // Sweet alerts\n    // First movie nominated\n    if (nominated.length === 0) {\n      Swal.fire({\n        title: 'Nominated!',\n        text: \"You can nominate up to 4 movies. Once you're ready, save them to the official list of nominees!\",\n        showCancelButton: true,\n        confirmButtonColor: '#00806a',\n        cancelButtonColor: '#DAA520',\n        confirmButtonText: 'Save nominations',\n        cancelButtonText: 'Nominate more'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          saveNominations();\n        }\n      })\n      // Max movies nominated\n    } else if (nominated.length === 3) {\n      Swal.fire({\n        title: 'Nominated!',\n        text: \"You've nominated 4 movies! Save them to the official list of nominees, or change your nomination list first by removing one or more movies!\",\n        showCancelButton: true,\n        confirmButtonColor: '#00806a',\n        cancelButtonColor: '#DAA520',\n        confirmButtonText: 'Save nominations',\n        cancelButtonText: 'Change nominations'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          nominatedMovies.current = nominated.concat(e);\n          saveNominations();\n        }\n      })\n    }\n    else {\n      Swal.fire({\n        title: 'Nominated!',\n        showCancelButton: true,\n        confirmButtonColor: '#00806a',\n        cancelButtonColor: '#DAA520',\n        confirmButtonText: 'Save nominations',\n        cancelButtonText: 'Nominate more'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          saveNominations();\n        }\n      })\n    }\n  }\n\n  // The ID of each nominated movie\n  let nominatedID = nominated.map((nominatedFilm) => {\n    return nominatedFilm.imdbID;\n  })\n\n  // If nothing is searched, return nothing\n  if (!movies) {\n    return null;\n  } else {\n    let newMovie = movies.map((movie) => {\n\n      // If searched movie has already been nominated, disable the nomination button\n      if (nominatedID.includes(movie.imdbID)) {\n        return (\n          <li className=\"movie\" key={movie.imdbID}>\n            <div className=\"imgContainer\">\n              <img src={movie.Poster} alt={movie.Title} />\n            </div>\n            <div className=\"movieText\">\n              <p><span className=\"info\">Title</span>: {movie.Title}</p>\n              <p><span className=\"info\">Year</span>: {movie.Year}</p>\n            </div>\n            <button disabled={true} className=\"nominate disabled\">Nominate!</button>\n          </li>\n        );\n\n        // If searched movie has not been nominated, display the nomination button normally\n      } else {\n        return (\n          <li className=\"movie\" key={movie.imdbID}>\n            <div className=\"imgContainer\">\n              <img src={movie.Poster} alt={movie.Title} />\n            </div>\n            <div className=\"movieText\">\n              <p><span className=\"info\">Title</span>: {movie.Title}</p>\n              <p><span className=\"info\">Year</span>: {movie.Year}</p>\n            </div>\n            <button onClick={() => handleClick(movie)} className=\"nominate\">Nominate!</button>\n          </li>\n        );\n      }\n      })\n    return newMovie;\n  }\n}\n\nexport default SearchResults;","import React from \"react\";\n\nfunction Nominated({ nominated, setNominated }) {\n\n  // Remove nomination from list when Remove button is clicked\n  const removeNomination = (e) => {\n    let index = e.target.getAttribute(\"index\");\n    if (index > -1) {\n      let newArray = [...nominated];\n      newArray.splice(index, 1);\n      setNominated(newArray);\n    }\n  };\n\n  // If user has not nominated any movies, return nothing for this component\n  if (!nominated) {\n    return null;\n    \n    // Display each movie the user nominates\n  } else {\n    return nominated.map((item, index) => {\n      return (\n        <li key={index} className=\"movie\">\n          <h3>Nomination #{index + 1}:</h3>\n          <div className=\"imgContainer\">\n            <img src={item.Poster} alt={item.Title} />\n          </div>\n          <div className=\"movieText\">\n            <p><span className=\"info\">Title</span>: {item.Title}</p>\n            <p><span className=\"info\">Year</span>: {item.Year}</p>\n          </div>\n          <button onClick={removeNomination} index={index} className=\"nominate\">Remove nomination</button>\n        </li>\n      );\n    });\n  }\n}\n\nexport default Nominated;","import React from \"react\";\nimport firebase from './firebase';\nimport Swal from 'sweetalert2';\nimport { useHistory } from 'react-router-dom';\n\nfunction Save({ nominated, setNominated }) {\n\n  // When nominations are saved, show the nominations page\n  const history = useHistory();\n  const newPage = () => history.push('/bestFlix/nominations');\n\n  // Push saved movie nominations to firebase\n  const saveNominations = () => {\n    const dbRef = firebase.database().ref();\n    nominated.map((movie) => {\n      return dbRef.push({\n        Poster: movie.Poster,\n        Title: movie.Title,\n        Year: movie.Year,\n        ID: movie.imdbID,\n        Votes: 1\n      })\n    })\n    setNominated([]);\n    // Sweet alert\n    Swal.fire({\n      title: 'Nominations saved',\n      text: \"Vote for your favourites on the list of nominees!\",\n      confirmButtonColor: \"#00806a\",\n      confirmButtonText: 'Ok',\n    }).then(function () {\n      newPage();\n    })\n  }\n\n  // When a movie is nominated, display a button to save nominations and push to firebase\n  if (!nominated.length) {\n    return null;\n  } else {\n    return (\n      <button onClick={saveNominations}>Save nominations!</button>\n    );\n  }\n}\n\nexport default Save;","import React from \"react\";\n\nfunction Loading(props) {\n\n  if (!props.loading) {\n    return null;\n  } else {\n    return (\n      <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n    )\n  }\n}\n\nexport default Loading;","import React, { useState } from \"react\";\nimport SearchResults from './SearchResults';\nimport Nominated from './Nominated';\nimport { Link } from \"react-router-dom\";\nimport Save from './Save';\nimport Loading from './Loading';\n\nfunction Main () {\n  const [movies, setMovies] = useState([]);\n  const [searched, setQuery] = useState([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [nominated, setNominated] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // API call\n  const performSearch = (query = `${searched}`) => {\n    setLoading(true)\n    setTimeout(() => {\n      fetch(`https://www.omdbapi.com/?type=movie&s=${query}&apikey=2b4018f5`).then((response) => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error('Something went wrong');\n        }\n      })\n      .then(res => setMovies(res.Search))\n      .catch((error) => {\n        console.log(error)\n      })\n      .then(setLoading(false))\n    }, 1000)\n  }\n\n  // As text input content changes, update API search query and make API call\n  const handleChange = (event) => {\n    setQuery(event.target.value)\n    setInputValue(event.target.value)\n    performSearch(event.target.value);\n  }\n\n  // If user has nominated 4 movies, prevent them from searching for more.\n  if (nominated.length === 4) {\n    return (\n      <main>\n        <div className=\"wrapper\">\n          <div className=\"centerWrapper\">\n            <h2>Welcome to bestFlix, the best movies of all time as voted by you! Search for and nominate up to four movies, and vote for your favourites on the official list of nominees!</h2>\n          </div>\n          <div className=\"saveContainer\">\n            <Save nominated={nominated} setNominated={setNominated} />\n          </div>\n          <Link to=\"/bestFlix/nominations\" className=\"link\">View nominees <span><i className=\"fas fa-arrow-right\"></i></span></Link>\n          <ul className=\"nominations\" id=\"nominations\">\n            {/* Nominations go here */}\n            <Nominated nominated={nominated} setNominated={setNominated} />\n          </ul>\n          <div className=\"saveContainer\">\n            <Save nominated={nominated} setNominated={setNominated} />\n          </div>\n        </div>\n      </main>\n    );\n    // If user has nominated less than 4 movies, allow them to continue to nominate more.\n  } else {\n    return (\n      <main>\n        <div className=\"wrapper\">\n          <div className=\"centerWrapper\">\n            <h2>Welcome to bestFlix, the best movies of all time as voted by you! Search for and nominate up to four movies, and vote for your favourites on the official list of nominees.</h2>\n          </div>\n          <Link to=\"/bestFlix/nominations\" className=\"link\">View nominees <span><i className=\"fas fa-arrow-right\"></i></span></Link>\n          <div className=\"centerWrapper\">\n          <form action=\"#\">\n            <label htmlFor=\"movieTitle\" className=\"sr-only\">Movie title:</label>\n            <input onChange={handleChange} type=\"text\" name=\"movieTitle\" className=\"movieTitle\" id=\"movieTitle\" placeholder=\"Type a movie title\" />\n            </form>\n            <div className=\"loadingContainer\">\n              <Loading loading={loading} />\n            </div>\n          </div>\n          <ul className=\"results\" id=\"results\">\n            {/* Search results go here */}\n            <SearchResults movies={movies} inputValue={inputValue} nominated={nominated} setNominated={setNominated} searched={searched} />\n          </ul>\n          <div className=\"saveContainer\">\n            <Save nominated={nominated} setNominated={setNominated} />\n          </div>\n          <ul className=\"nominations\" id=\"nominations\">\n            {/* Nominations go here */}\n            <Nominated nominated={nominated} setNominated={setNominated} />\n          </ul>\n          <div className=\"saveContainer\">\n            <Save nominated={nominated} setNominated={setNominated} />\n          </div>\n        </div>\n      </main>\n    );\n  }\n};\n\nexport default Main;","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport firebase from './firebase';\nimport Loading from './Loading';\n\nfunction Nominations() {\n\n  const [displayedNominations, setDisplayedNominations] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  // Pull saved movie nominations from firebase\n  useEffect(() => {\n    setLoading(true);\n    const dbRef = firebase.database().ref();\n\n    setTimeout(() => {\n      dbRef.on('value', (response) => {\n        const newState = [];\n        const data = response.val();\n        for (let key in data) {\n          newState.push({ key: key, movie: data[key] });\n        }\n\n        // Filter out duplicate nominations by ID (imdbID)\n        const uniqueNominations = newState.filter((v, i, a) => a.findIndex(t => (t.movie.ID === v.movie.ID)) === i);\n\n        // Sort nominations in descending order by number of votes\n        const sortedNominations = uniqueNominations.sort(function(a, b) {\n          return parseFloat(b.movie.Votes) - parseFloat(a.movie.Votes);\n        });\n\n        setDisplayedNominations(sortedNominations);\n        setLoading(false)\n      });\n    }, 1000)\n  }, []);\n\n  // Function to increase movie vote count by one on vote click\n  const incrementVotes = (e) => {\n    console.log(e);\n    const ID = e.key;\n    const dbRef = firebase.database().ref(`/${ID}/Votes`);\n    dbRef.once('value', (result)=> {\n      const results = result.val()\n      dbRef.set(results + 1)\n    })\n  }\n\n  return (\n    <>\n      <main>\n        <div className=\"wrapper\">\n          <Link to=\"/bestFlix\" className=\"link2\"><span><i className=\"fas fa-arrow-left\"></i></span> Back</Link>\n          <h3 className=\"awardNominees\">Award nominees:</h3>\n          <div className=\"loadingContainer\">\n            <Loading loading={loading} />\n          </div>\n          <ul className=\"nominations\">\n            {/* Saved nominations go here */}\n            {displayedNominations.map((movieArray) => {\n            return (\n              <li key={movieArray.key} className=\"movie\">\n                <div className=\"imgContainer\">\n                  <img src={movieArray.movie.Poster} alt={movieArray.movie.Title} />\n                </div>\n                <div className=\"movieText\">\n                  <p><span className=\"info\">Title</span>: {movieArray.movie.Title}</p>\n                  <p><span className=\"info\">Year</span>: {movieArray.movie.Year}</p>\n                  <button className=\"voteButton\" onClick={() => incrementVotes(movieArray)} aria-label=\"Vote\"><i className=\"fas fa-heart\"></i></button>\n                  <p><span className=\"info\">Votes</span>: {movieArray.movie.Votes}</p>\n                </div>\n              </li>\n            )\n          })}\n          </ul>\n          <Link to=\"/bestFlix\" className=\"link2\"><span><i className=\"fas fa-arrow-left\"></i></span> Back</Link>\n        </div>\n      </main>\n    </>\n  );\n}\n\nexport default Nominations;","import React from 'react';\n\nfunction Footer() {\n  return (\n      <footer>\n        <div className=\"wrapper\">\n        <p>Built by <a href=\"https://lucassilbernagel.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Lucas Silbernagel</a></p>\n        <p> Data provided by <a href=\"http://www.omdbapi.com/\" target=\"_blank\" rel=\"noopener noreferrer\">OMDb API</a></p>\n        </div>\n      </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport './App.scss';\nimport Header from './Components/Header';\nimport Main from './Components/Main';\nimport Nominations from './Components/Nominations'\nimport Footer from './Components/Footer';\nimport { Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <>\n      <Header />      \n      <Switch>\n        <Route exact path=\"/bestFlix\" component={Main} />\n        <Route exact path=\"/bestFlix/nominations\" component={Nominations} />\n        <Route component={Main} />\n      </Switch>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}