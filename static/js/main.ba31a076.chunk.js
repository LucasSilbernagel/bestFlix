(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{27:function(e,t,a){e.exports=a(41)},32:function(e,t,a){},33:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),o=a.n(r);a(32),a(33);var i=function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("h1",null,"The Shoppies")))},c=a(8);var m=function(e){var t=e.nominated.map((function(e){return e.Plot}));return e.Title?t.includes(e.Plot)?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"movie"},l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:e.Poster,alt:e.Title})),l.a.createElement("p",null,"Title: ",e.Title),l.a.createElement("p",null,"Year: ",e.Year),l.a.createElement("p",null,"Plot: ",e.Plot),l.a.createElement("button",{disabled:!0},"Nominate!"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"movie"},l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:e.Poster,alt:e.Title})),l.a.createElement("p",null,"Title: ",e.Title),l.a.createElement("p",null,"Year: ",e.Year),l.a.createElement("p",null,"Plot: ",e.Plot),l.a.createElement("button",{onClick:function(){e.setNominated(e.nominated.concat(e))}},"Nominate!"))):null},s=a(26);var u=function(e){var t=e.nominated,a=e.setNominated,n=function(e){var n=e.target.getAttribute("index");if(n>-1){var l=Object(s.a)(t);l.splice(n,1),a(l)}};return t?t.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:e.Poster,alt:e.Title})),l.a.createElement("p",null,"Title: ",e.Title),l.a.createElement("p",null,"Year: ",e.Year),l.a.createElement("p",null,"Plot: ",e.Plot),l.a.createElement("button",{onClick:n,index:t},"Remove"))})):null},p=a(6),E=a(15),d=a.n(E);a(34);d.a.initializeApp({apiKey:"AIzaSyDht736HropBXtwFbjFpGLxigfknVO9_wQ",authDomain:"shoppies-20c2e.firebaseapp.com",databaseURL:"https://shoppies-20c2e.firebaseio.com",projectId:"shoppies-20c2e",storageBucket:"shoppies-20c2e.appspot.com",messagingSenderId:"790626284069",appId:"1:790626284069:web:04b886975bf2f4209d45cc"});var v=d.a;var f=function(e){var t=e.nominated,a=e.setNominated;return t.length?l.a.createElement("button",{onClick:function(){var e=v.database().ref();t.map((function(t){return e.push({Poster:t.Poster,Title:t.Title,Year:t.Year,Plot:t.Plot})})),a([])}},"Save nominations!"):null};var h=function(){var e=Object(n.useState)({}),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),i=Object(c.a)(o,2),s=i[0],E=i[1],d=Object(n.useState)(""),v=Object(c.a)(d,2),h=v[0],b=v[1],g=Object(n.useState)([]),N=Object(c.a)(g,2),P=N[0],w=N[1];return 5===P.length?l.a.createElement("main",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("h2",null,"Welcome to the Shoppies, Shopify's official movies awards! Search for and nominate up to five movies, and check out the list of nominees!"),l.a.createElement("h3",null,"You've nominated five movies!"),l.a.createElement(p.b,{to:"/nominations"},"See all nominations"),l.a.createElement("ul",{className:"nominations",id:"nominations"},l.a.createElement(u,{nominated:P,setNominated:w})),l.a.createElement(f,{nominated:P,setNominated:w}))):l.a.createElement("main",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("h2",null,"Welcome to the Shoppies, Shopify's official movies awards! Search for and nominate up to five movies, and check out the list of nominees!"),l.a.createElement(p.b,{to:"/nominations"},"See all nominations"),l.a.createElement("form",{action:"#"},l.a.createElement("label",{htmlFor:"movieTitle"},"Movie title",l.a.createElement("input",{onChange:function(e){E(e.target.value),b(e.target.value),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(s);fetch("https://www.omdbapi.com/?type=movie&t=".concat(e,"&apikey=2b4018f5")).then((function(e){return e.json()})).then((function(e){return r(e)}))}(e.target.value)},type:"text",name:"movieTitle",id:"movieTitle"}))),l.a.createElement("ul",{className:"results",id:"results"},l.a.createElement(m,{Poster:a.Poster,Title:a.Title,Year:a.Year,Plot:a.Plot,inputValue:h,nominated:P,setNominated:w})),l.a.createElement("ul",{className:"nominations",id:"nominations"},l.a.createElement(u,{nominated:P,setNominated:w})),l.a.createElement(f,{nominated:P,setNominated:w})))};var b=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=!0,t=v.database().ref();return e&&t.on("value",(function(e){var t=[],a=e.val();for(var n in a)t.push(a[n]);r(t)})),function(){return e=!1}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("main",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement(p.b,{to:"/shoppies"},"Back"),l.a.createElement("ul",null,a.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:e.Poster,alt:e.Title})),l.a.createElement("p",null,"Title: ",e.Title),l.a.createElement("p",null,"Year: ",e.Year),l.a.createElement("p",null,"Plot: ",e.Plot))}))))))};var g=function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("p",null,"Copyright 2020 ",l.a.createElement("a",{href:"https://lucassilbernagel.com/",target:"_blank",rel:"noopener noreferrer"},"Lucas Silbernagel"))))},N=a(1);var P=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i,null),l.a.createElement(N.c,null,l.a.createElement(N.a,{exact:!0,path:"/shoppies",component:h}),l.a.createElement(N.a,{path:"/nominations",component:b})),l.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(p.a,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.ba31a076.chunk.js.map