(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{28:function(e,a,t){e.exports=t(42)},33:function(e,a,t){},34:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(26),r=t.n(i);t(33),t(34);var o=function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("h1",null,"bestFlix")))},m=t(7),c=t(9),s=t.n(c);var u=function(e){var a=e.nominated.map((function(e){return e.imdbID}));return e.movies?e.movies.map((function(t){return a.includes(t.imdbID)?l.a.createElement("li",{className:"movie",key:t.imdbID},l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:t.Poster,alt:t.Title})),l.a.createElement("div",{className:"movieText"},l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Title"),": ",t.Title),l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Year"),": ",t.Year)),l.a.createElement("button",{disabled:!0,className:"nominate disabled"},"Nominate!")):l.a.createElement("li",{className:"movie",key:t.imdbID},l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:t.Poster,alt:t.Title})),l.a.createElement("div",{className:"movieText"},l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Title"),": ",t.Title),l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Year"),": ",t.Year)),l.a.createElement("button",{onClick:function(){return a=t,e.setNominated(e.nominated.concat(a)),void(0===e.nominated.length?s.a.fire({title:"Nominated!",confirmButtonColor:"#00806a",text:"You can nominate up to 4 movies. Once you're ready, save them to the official list of nominees!",confirmButtonText:"Ok"}):3===e.nominated.length?s.a.fire({title:"Nominated!",confirmButtonColor:"#00806a",text:"You've nominated 4 movies! Save them to the official list of nominees, or change your nomination list first by removing one or more movies!",confirmButtonText:"Ok"}):s.a.fire({title:"Nominated!",confirmButtonColor:"#00806a",confirmButtonText:"Ok"}));var a},className:"nominate"},"Nominate!"))})):null},d=t(14);var E=function(e){var a=e.nominated,t=e.setNominated,n=function(e){var n=e.target.getAttribute("index");if(n>-1){var l=Object(d.a)(a);l.splice(n,1),t(l)}};return a?a.map((function(e,a){return l.a.createElement("li",{key:a,className:"movie"},l.a.createElement("h3",null,"Nomination #",a+1,":"),l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:e.Poster,alt:e.Title})),l.a.createElement("div",{className:"movieText"},l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Title"),": ",e.Title),l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Year"),": ",e.Year)),l.a.createElement("button",{onClick:n,index:a,className:"nominate"},"Remove nomination"))})):null},f=t(6),v=t(17),p=t.n(v);t(35);p.a.initializeApp({apiKey:"AIzaSyDZtyyJl0JQTRgDuEg9mZbneHNpF5ArlIc",authDomain:"bestflix-80621.firebaseapp.com",databaseURL:"https://bestflix-80621.firebaseio.com",projectId:"bestflix-80621",storageBucket:"bestflix-80621.appspot.com",messagingSenderId:"661618832641",appId:"1:661618832641:web:53533ceed3f183e5129700"});var N=p.a;var b=function(e){var a=e.nominated,t=e.setNominated;return a.length?l.a.createElement("button",{onClick:function(){var e=N.database().ref();a.map((function(a){return e.push({Poster:a.Poster,Title:a.Title,Year:a.Year,ID:a.imdbID})})),t([]),s.a.fire({title:"Nominations saved!",text:"Make sure to check out the official list of nominees!",confirmButtonColor:"#00806a",confirmButtonText:"Ok"}).then((function(){window.location.reload()}))}},"Save nominations!"):null};var h=function(e){return e.loading?l.a.createElement("div",{className:"lds-spinner"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)):null};var g=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],i=a[1],r=Object(n.useState)([]),o=Object(m.a)(r,2),c=o[0],s=o[1],d=Object(n.useState)(""),v=Object(m.a)(d,2),p=v[0],N=v[1],g=Object(n.useState)([]),w=Object(m.a)(g,2),k=w[0],x=w[1],T=Object(n.useState)(!1),y=Object(m.a)(T,2),O=y[0],j=y[1];return 4===k.length?l.a.createElement("main",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"centerWrapper"},l.a.createElement("h2",null,"Welcome to bestFlix, the best movies of all time as voted by you! Search for and nominate up to four movies, and check out the list of nominees!")),l.a.createElement("div",{className:"saveContainer"},l.a.createElement(b,{nominated:k,setNominated:x})),l.a.createElement(f.b,{to:"/bestFlix/nominations",className:"link"},"View nominees ",l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-arrow-right"}))),l.a.createElement("ul",{className:"nominations",id:"nominations"},l.a.createElement(E,{nominated:k,setNominated:x})),l.a.createElement("div",{className:"saveContainer"},l.a.createElement(b,{nominated:k,setNominated:x})))):l.a.createElement("main",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"centerWrapper"},l.a.createElement("h2",null,"Welcome to bestFlix, the best movies of all time as voted by you! Search for and nominate up to four movies, and check out the list of nominees!")),l.a.createElement(f.b,{to:"/bestFlix/nominations",className:"link"},"View nominees ",l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-arrow-right"}))),l.a.createElement("div",{className:"centerWrapper"},l.a.createElement("form",{action:"#"},l.a.createElement("label",{htmlFor:"movieTitle",className:"sr-only"},"Movie title:"),l.a.createElement("input",{onChange:function(e){s(e.target.value),N(e.target.value),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(c);j(!0),setTimeout((function(){fetch("https://www.omdbapi.com/?type=movie&s=".concat(e,"&apikey=2b4018f5")).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){return i(e.Search)})).catch((function(e){console.log(e)})).then(j(!1))}),1e3)}(e.target.value)},type:"text",name:"movieTitle",className:"movieTitle",id:"movieTitle",placeholder:"Type a movie title"})),l.a.createElement("div",{className:"loadingContainer"},l.a.createElement(h,{loading:O}))),l.a.createElement("ul",{className:"results",id:"results"},l.a.createElement(u,{movies:t,inputValue:p,nominated:k,setNominated:x,searched:c})),l.a.createElement("div",{className:"saveContainer"},l.a.createElement(b,{nominated:k,setNominated:x})),l.a.createElement("ul",{className:"nominations",id:"nominations"},l.a.createElement(E,{nominated:k,setNominated:x})),l.a.createElement("div",{className:"saveContainer"},l.a.createElement(b,{nominated:k,setNominated:x}))))};var w=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],i=a[1],r=Object(n.useState)(!1),o=Object(m.a)(r,2),c=o[0],s=o[1],u=Object(n.useRef)(!0);return Object(n.useEffect)((function(){s(!0);var e=N.database().ref();setTimeout((function(){e.on("value",(function(e){var a=[],t=e.val();for(var n in t){if(!u.current)return null;a.push(t[n])}var l=a.filter((function(e,a,t){return t.findIndex((function(a){return a.ID===e.ID}))===a}));i(Object(d.a)(l)),u.current=!1,s(!1)}))}),1e3)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("main",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement(f.b,{to:"/bestFlix",className:"link2"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-arrow-left"}))," Back"),l.a.createElement("h3",{className:"awardNominees"},"Award nominees:"),l.a.createElement("div",{className:"loadingContainer"},l.a.createElement(h,{loading:c})),l.a.createElement("ul",{className:"nominations"},t.map((function(e,a){return l.a.createElement("li",{key:a,className:"movie"},l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{src:e.Poster,alt:e.Title})),l.a.createElement("div",{className:"movieText"},l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Title"),": ",e.Title),l.a.createElement("p",null,l.a.createElement("span",{className:"info"},"Year"),": ",e.Year)))}))),l.a.createElement(f.b,{to:"/bestFlix",className:"link2"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-arrow-left"}))," Back"))))};var k=function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"wrapper"},l.a.createElement("p",null,l.a.createElement("a",{href:"https://lucassilbernagel.com/",target:"_blank",rel:"noopener noreferrer"},"Lucas Silbernagel")," ",l.a.createElement("i",{className:"far fa-copyright","aria-label":"copyright"})," 2020"),l.a.createElement("p",null," Data provided by ",l.a.createElement("a",{href:"http://www.omdbapi.com/",target:"_blank",rel:"noopener noreferrer"},"OMDb API"))))},x=t(1);var T=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(o,null),l.a.createElement(x.c,null,l.a.createElement(x.a,{exact:!0,path:"/bestFlix",component:g}),l.a.createElement(x.a,{path:"/bestFlix/nominations",component:w})),l.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(f.a,null,l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.55cb2f1c.chunk.js.map